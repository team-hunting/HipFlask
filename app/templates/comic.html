{% extends 'base.html' %}

{% block title %} Comic Scraper {% endblock %}

{% block body %}

<div class="min-vw-100 min-vh-100 d-flex" style="background-color: #eee;">
    <div class="mx-auto my-auto" style="max-width: 75%; min-width: 75%;" id="comicdiv" >
    <div>


        Enter a readcomiconline.li URL in the box. <br/> 
        Press "Info" to retrive data about the comic. <br/> <br/>
        Example: <br/> 
        https://readcomiconline.li/Comic/Sandman-Presents-Lucifer <br/> <br/>
        <div class="input-group mb-3">
            <div class="input-group-prepend">
              <button class="btn btn-outline-secondary" id="infobutton" type="button">Info</button>
            </div>
            <input type="text" id="comicurl" class="form-control" placeholder="" aria-label="" aria-describedby="basic-addon1">
        </div>
        
        <div class="form-outline">
            <label for="urldisplay">
                <span class="text-muted">URL:</span> 
              </label>

            <input
              class="form-control"
              id="urldisplay"
              type="text"
              placeholder="https://readcomiconline.li/Comic/Sandman-Presents-Lucifer"
              aria-label="Comic URL"
              readonly /> 
            <label class="form-label" for="urldisplay"></label>
          </div>

        <div class="form-outline">
            <label for="titledisplay">
                <span class="text-muted">Title:</span> 
              </label>

            <input
              class="form-control"
              id="titledisplay"
              type="text"
              placeholder="Sandman-Presents-Lucifer"
              aria-label="Comic Title"
              readonly /> 
            <label class="form-label" for="titledisplay"></label>
          </div>

        <div class="form-outline">
            <label for="singleissuedisplay">
                <span class="text-muted">Single Issue Link Provided?</span> 
              </label>

            <input
                class="form-control"
                id="singleissuedisplay"
                type="text"
                placeholder="No"
                aria-label="Comic Single Issue"
                readonly /> 
            <label class="form-label" for="singleissuedisplay"></label>
        </div>

        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" id="displayimages">
          <label class="form-check-label" for="displayimages">Display Images on this page after scraping?</label>
        </div>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" id="hqimages">
          <label class="form-check-label" for="hqimages">Scrape high quality images where available?</label>
        </div>

        <div id="scrapedIssues"></div>

        <br/>
        <div>Please be aware that this script waits 15 seconds in between scraping issues. This is to prevent readcomiconline.li from hitting us with a CAPTCHA.</div>
        <br/>
        
        <button id="getissuebutton">PRESS ME TO GET ISSUES</button> 
        <!-- <button id="printimglinks">LOG ALLIMAGES TO CONSOLE (DEV BUTTON)</button> -->
        <br/>
        <br/>

    </div>
  </div>
</div>


<script type="text/javascript"> 
let url = "{{ url_for('comicInfo') }}";
let issueUrl = "{{ url_for('issueInfo') }}";
let issueImagesUrl = "{{ url_for('scrapeIssue') }}";
let issueDownloadUrl = "{{ url_for('downloadIssue') }}";
</script>

<script type="text/javascript" src="{{ url_for('static', filename='comic.js')}}"></script>


{% endblock %}